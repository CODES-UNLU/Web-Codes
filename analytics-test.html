<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Test - CODES++</title>
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C73GLNE05C"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-C73GLNE05C', {
            page_title: 'Analytics Test - CODES++',
            page_location: window.location.href,
            send_page_view: true
        });
        
        // Debug analytics
        console.log('Google Analytics loaded');
        console.log('DataLayer:', window.dataLayer);
    </script>
    <script>
        (function(){
            try {
                var savedTheme = localStorage.getItem('theme');
                if (savedTheme) {
                    document.documentElement.setAttribute('data-theme', savedTheme);
                }
            } catch(e) {}
        })();
    </script>
</head>
<body>
    <h1>Analytics Test Page</h1>
    <p>Esta página es para probar que Google Analytics esté funcionando correctamente.</p>
    
    <button onclick="testEvent()">Probar Evento</button>
    <button onclick="checkAnalytics()">Verificar Analytics</button>
    
    <div id="status"></div>
    
    <script>
        function testEvent() {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'test_button_click', {
                    event_category: 'test',
                    event_label: 'button_click'
                });
                document.getElementById('status').innerHTML = '<p style="color: green;">Evento enviado correctamente</p>';
                console.log('Test event sent');
            } else {
                document.getElementById('status').innerHTML = '<p style="color: red;">Google Analytics no está cargado</p>';
                console.error('Google Analytics not loaded');
            }
        }
        
        function checkAnalytics() {
            const status = document.getElementById('status');
            if (typeof gtag !== 'undefined') {
                status.innerHTML = '<p style="color: green;">✅ Google Analytics está cargado</p>';
                console.log('Analytics status: OK');
            } else {
                status.innerHTML = '<p style="color: red;">❌ Google Analytics no está cargado</p>';
                console.error('Analytics status: FAILED');
            }
        }
        
        // Check on page load
        window.addEventListener('load', function() {
            setTimeout(checkAnalytics, 1000);
        });
    </script>
</body>
</html> 