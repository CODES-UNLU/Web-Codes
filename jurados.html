<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jurados - Hackathon CODES++ | Centro de Estudiantes de Sistemas - UNLu</title>
    <meta
      name="description"
      content="Jurados del Hackathon de Fin de Semana organizado por CODES++. Conoc√© a los profesionales que evaluar√°n los proyectos de los participantes."
    />
    <meta
      name="keywords"
      content="jurados, hackathon, programaci√≥n, CODES++, UNLu, sistemas, evaluaci√≥n, profesionales"
    />
    <meta name="author" content="CODES++ - Centro de Estudiantes de Sistemas" />
    <meta name="robots" content="index, follow" />

    <script>
      (function() {
        try {
          var savedTheme = localStorage.getItem('theme');
          if (savedTheme) {
            document.documentElement.setAttribute('data-theme', savedTheme);
          }
        } catch (e) {}
      })();
    </script>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://codes-unlu.github.io/jurados.html" />
    <meta
      property="og:title"
      content="Jurados - Hackathon CODES++"
    />
    <meta
      property="og:description"
      content="Jurados del Hackathon de Fin de Semana organizado por CODES++. Conoc√© a los profesionales que evaluar√°n los proyectos de los participantes."
    />
    <meta property="og:image" content="assets/images/Logo.svg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://codes-unlu.github.io/jurados.html" />
    <meta
      property="twitter:title"
      content="Jurados - Hackathon CODES++"
    />
    <meta
      property="twitter:description"
      content="Jurados del Hackathon de Fin de Semana organizado por CODES++. Conoc√© a los profesionales que evaluar√°n los proyectos de los participantes."
    />
    <meta property="twitter:image" content="assets/images/Logo.svg" />

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C73GLNE05C"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-C73GLNE05C', {
        page_title: 'Jurados - Hackathon CODES++',
        page_location: window.location.href,
        send_page_view: true
      });
    </script>

    <link
      rel="icon"
      href="assets/images/Logo.svg"
      type="image/svg+xml"
      style="background-color: white;"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css" />
    
    <!-- Jurados Custom Styles -->
    <style>
      /* Cyber Theme Variables */
      :root {
        --cyber-primary: #00ff88;
        --cyber-secondary: #00d4ff;
        --cyber-accent: #ff6b35;
        --cyber-dark: #0a0a0a;
        --cyber-gray: #1a1a1a;
        --cyber-light-gray: #2a2a2a;
        --cyber-text: #ffffff;
        --cyber-text-muted: #b0b0b0;
        --cyber-border: #333333;
        --cyber-glow: 0 0 20px rgba(0, 255, 136, 0.3);
        --cyber-glow-strong: 0 0 30px rgba(0, 255, 136, 0.6);
      }

      /* Jurados Page Styles */
      .jurados-hero {
        background: linear-gradient(135deg, var(--cyber-dark) 0%, var(--cyber-gray) 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
      }

      .jurados-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
          radial-gradient(circle at 20% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(255, 107, 53, 0.05) 0%, transparent 50%);
        pointer-events: none;
      }

      .jurados-content {
        position: relative;
        z-index: 2;
        text-align: center;
        color: var(--cyber-text);
      }

      .jurados-title {
        font-size: 4rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        background: linear-gradient(45deg, var(--cyber-primary), var(--cyber-secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: var(--cyber-glow);
        animation: glow 2s ease-in-out infinite alternate;
      }

      .jurados-subtitle {
        font-size: 1.5rem;
        color: var(--cyber-text-muted);
        margin-bottom: 3rem;
        font-weight: 300;
      }

      .cyber-grid {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: 
          linear-gradient(rgba(0, 255, 136, 0.1) 1px, transparent 1px),
          linear-gradient(90deg, rgba(0, 255, 136, 0.1) 1px, transparent 1px);
        background-size: 50px 50px;
        opacity: 0.3;
        animation: grid-move 20s linear infinite;
      }

      @keyframes glow {
        from {
          text-shadow: var(--cyber-glow);
        }
        to {
          text-shadow: var(--cyber-glow-strong);
        }
      }

      @keyframes grid-move {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(50px, 50px);
        }
      }

      /* Estilos para selects de calificaci√≥n */
      .calificacion-select {
        background: var(--cyber-light-gray) !important;
        border: 1px solid var(--cyber-border) !important;
        color: var(--cyber-text) !important;
      }

      .calificacion-select:focus {
        background: var(--cyber-light-gray) !important;
        border-color: var(--cyber-primary) !important;
        color: var(--cyber-text) !important;
        box-shadow: 0 0 0 0.2rem rgba(0, 255, 136, 0.25) !important;
      }

      .calificacion-select option {
        background: var(--cyber-light-gray) !important;
        color: var(--cyber-text) !important;
      }

      .calificacion-select option:hover {
        background: var(--cyber-gray) !important;
        color: var(--cyber-primary) !important;
      }

      .form-label {
        color: var(--cyber-text) !important;
        font-weight: 500;
      }

      /* Estilos para el Modal de Confirmaci√≥n */
      .modal-content {
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        animation: modalSlideIn 0.3s ease-out;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-50px) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .modal-backdrop {
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
      }

      .modal-header {
        border-radius: 15px 15px 0 0;
        background: linear-gradient(135deg, var(--cyber-gray) 0%, var(--cyber-light-gray) 100%);
      }

      .modal-footer {
        border-radius: 0 0 15px 15px;
        background: linear-gradient(135deg, var(--cyber-light-gray) 0%, var(--cyber-gray) 100%);
      }

      .modal-body {
        background: var(--cyber-gray);
      }

      /* Estilos para las tarjetas de resumen de votos */
      .voto-resumen-card {
        background: var(--cyber-light-gray);
        border: 1px solid var(--cyber-border);
        border-radius: 10px;
        padding: 1rem;
        margin-bottom: 1rem;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .voto-resumen-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: var(--cyber-primary);
        transition: width 0.3s ease;
      }

      .voto-resumen-card:hover {
        border-color: var(--cyber-primary);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.2);
        transform: translateY(-2px);
      }

      .voto-resumen-card:hover::before {
        width: 8px;
      }

      .voto-resumen-card h6 {
        color: var(--cyber-primary);
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .voto-resumen-card .equipo-nombre {
        color: var(--cyber-secondary);
        font-weight: 500;
        font-size: 0.9rem;
      }

      .voto-resumen-card .propuesta-titulo {
        color: var(--cyber-text);
        font-weight: 500;
        margin: 0.5rem 0;
      }

      .voto-resumen-card .propuesta-descripcion {
        color: var(--cyber-text-muted);
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
      }

      .voto-resumen-card .categoria-badge {
        background: var(--cyber-accent);
        color: var(--cyber-dark);
        padding: 0.25rem 0.5rem;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 600;
      }

      /* Animaci√≥n para el bot√≥n de confirmar */
      #btnConfirmarVotos {
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      #btnConfirmarVotos:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
      }

      #btnConfirmarVotos::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
      }

      #btnConfirmarVotos:hover::before {
        left: 100%;
      }

      /* Efecto de pulso para el √≠cono de confirmaci√≥n */
      .modal-body .bi-shield-check {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* ========================================
         NAVBAR STYLES (Del Hackathon)
         ======================================== */
      
      /* Efectos tecnol√≥gicos de fondo */
      .tech-particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
        background: 
          radial-gradient(circle at 20% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(255, 107, 53, 0.05) 0%, transparent 50%);
        animation: particleFloat 20s ease-in-out infinite;
      }
      
      @keyframes particleFloat {
        0%, 100% {
          transform: translateY(0px) rotate(0deg);
        }
        33% {
          transform: translateY(-20px) rotate(1deg);
        }
        66% {
          transform: translateY(10px) rotate(-1deg);
        }
      }
      
      /* Header con efectos cyber */
      header {
        position: relative;
        z-index: 1000;
        background: rgba(10, 10, 10, 0.95) !important;
        backdrop-filter: blur(15px);
        border-bottom: 2px solid var(--cyber-primary);
        box-shadow: 
          0 4px 20px rgba(0, 255, 136, 0.2),
          0 0 40px rgba(0, 255, 136, 0.1);
      }

      /* Forzar fondo oscuro en navbar */
      .navbar {
        background: rgba(10, 10, 10, 0.95) !important;
        backdrop-filter: blur(15px);
      }

      .navbar-light {
        background: rgba(10, 10, 10, 0.95) !important;
      }

      /* Asegurar que todos los elementos del navbar tengan fondo oscuro */
      .navbar .container {
        background: transparent;
      }

      .navbar-nav {
        background: transparent;
      }

      .navbar-collapse {
        background: transparent;
      }

      /* Override de Bootstrap para navbar-light */
      .navbar-light .navbar-brand {
        color: var(--cyber-text) !important;
      }

      .navbar-light .navbar-nav .nav-link {
        color: var(--cyber-text) !important;
      }

      .navbar-light .navbar-toggler {
        border-color: var(--cyber-primary);
        color: var(--cyber-text);
      }

      .navbar-light .navbar-toggler-icon {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 255, 136, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
      }
      
      /* Efectos del navbar-brand */
      .navbar-brand {
        filter: brightness(1.1) drop-shadow(0 0 8px rgba(0, 255, 136, 0.4));
        transition: all 0.4s ease;
        position: relative;
      }
      
      .navbar-brand:hover {
        filter: brightness(1.3) drop-shadow(0 0 15px rgba(0, 255, 136, 0.6)) drop-shadow(0 0 25px rgba(0, 136, 255, 0.4));
        transform: scale(1.02);
      }
      
      .navbar-logo {
        transition: all 0.4s ease;
        animation: logoLuminosity 4s ease-in-out infinite;
      }
      
      @keyframes logoLuminosity {
        0%, 100% {
          filter: brightness(1) contrast(1) saturate(1);
        }
        50% {
          filter: brightness(1.2) contrast(1.1) saturate(1.1);
        }
      }
      
      .navbar-brand::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 120%;
        height: 120%;
        background: radial-gradient(circle, rgba(0, 255, 136, 0.1) 0%, transparent 70%);
        transform: translate(-50%, -50%);
        border-radius: 50%;
        opacity: 0;
        z-index: -1;
        transition: opacity 0.4s ease;
        animation: luminosityPulse 3s ease-in-out infinite;
      }
      
      .navbar-brand:hover::after {
        opacity: 1;
      }
      
      @keyframes luminosityPulse {
        0%, 100% {
          transform: translate(-50%, -50%) scale(0.8);
          opacity: 0.3;
        }
        50% {
          transform: translate(-50%, -50%) scale(1.2);
          opacity: 0.6;
        }
      }
      
      /* Contenedor del logo con efecto circular */
      .logo-container {
        position: relative;
        display: inline-block;
        border-radius: 50%;
        padding: 2px;
        overflow: hidden;
      }
      
      .logo-container::before {
        content: '';
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        border-radius: 50%;
        background: conic-gradient(from 0deg, transparent, transparent, var(--cyber-primary), var(--cyber-secondary), transparent, transparent);
        opacity: 0.8;
        z-index: -1;
        animation: rotateLight 2s linear infinite;
        transition: opacity 0.3s ease;
      }
      
      .navbar-brand:hover .logo-container::before {
        opacity: 1;
      }
      
      @keyframes rotateLight {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      
      /* Efecto adicional con box-shadow */
      .navbar-brand:hover .navbar-logo {
        box-shadow: 
          0 0 20px var(--cyber-primary),
          0 0 40px var(--cyber-primary),
          0 0 60px var(--cyber-primary);
      }
      
      /* Enlaces de navegaci√≥n */
      .navbar-nav .nav-link {
        color: var(--cyber-text) !important;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
        padding: 0.5rem 1rem;
        border-radius: 8px;
      }
      
      .navbar-nav .nav-link:hover {
        color: var(--cyber-primary) !important;
        background: rgba(0, 255, 136, 0.1);
        transform: translateY(-2px);
      }
      
      .navbar-nav .nav-link::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 2px;
        background: var(--cyber-primary);
        transition: all 0.3s ease;
        transform: translateX(-50%);
      }
      
      .navbar-nav .nav-link:hover::after {
        width: 100%;
      }
      
      /* Bot√≥n de volver */
      .btn-back {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: transparent;
        border: 2px solid var(--cyber-primary);
        border-radius: 25px;
        color: var(--cyber-primary) !important;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      
      .btn-back:hover {
        background: var(--cyber-primary);
        color: var(--cyber-bg) !important;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
      }
      
      .btn-back i {
        font-size: 1.1rem;
        transition: transform 0.3s ease;
      }
      
      .btn-back:hover i {
        transform: translateX(-3px);
      }
      
      .btn-back::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
      }
      
      .btn-back:hover::before {
        left: 100%;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .jurados-title {
          font-size: 2.5rem;
        }
        
        .jurados-subtitle {
          font-size: 1.2rem;
        }
      }

      @media (max-width: 576px) {
        .jurados-title {
          font-size: 2rem;
        }
        
        .jurados-subtitle {
          font-size: 1rem;
        }
      }
    </style>
  </head>

  <body>
    <!-- Efectos tecnol√≥gicos -->
    <div class="tech-particles" id="particles"></div>
    
    <!-- Header -->
    <header id="header">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
          <a class="navbar-brand" href="./index.html">
            <div class="logo-container">
              <img src="assets/images/Logo.svg" alt="Logo CODES++" id="navbarLogo" class="navbar-logo" />
            </div>
          </a>
          <a href="./hackathon.html" class="btn-back">
            <i class="bi bi-arrow-left"></i>
            <span>Volver al Hackathon</span>
          </a>
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarNav"
            style="display: none !important;"
          >
            <ul class="navbar-nav gap-2">
              <li class="nav-item">
                <a class="nav-link" href="./index.html#nosotros">Nosotros</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./index.html#integrantes">Integrantes</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./index.html#eventos">Actividades</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./index.html#extra">Recursos</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./index.html#faq">FAQ</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Jurados Hero Section -->
      <section class="jurados-hero">
        <div class="cyber-grid"></div>
        <div class="container">
          <div class="jurados-content">
            <h1 class="jurados-title">Jurados</h1>
            <p class="jurados-subtitle">
              Los profesionales que evaluar√°n los proyectos del Hackathon
            </p>
          </div>
        </div>
      </section>

      <!-- Panel Principal de Jurados -->
      <section class="jurados-panel py-5" style="background: var(--cyber-dark); color: var(--cyber-text);">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h2 class="text-center mb-5" style="color: var(--cyber-primary); font-weight: 700;">
                Panel de Evaluaci√≥n - Jurados
              </h2>
              <p class="text-center mb-5" style="color: var(--cyber-text-muted);">
                Sistema completo de evaluaci√≥n para el Hackathon CODES++
              </p>
              
              <!-- Estado de conexi√≥n -->
              <div id="connectionStatus" class="alert alert-info text-center" style="display: none;">
                <i class="bi bi-cloud-arrow-up me-2"></i>Verificando conexi√≥n con Google Sheets...
              </div>
            </div>
          </div>

          <!-- Selector de Jurado -->
          <div class="row mb-4">
            <div class="col-12">
              <div class="card" style="background: var(--cyber-gray); border: 1px solid var(--cyber-border);">
                <div class="card-body">
                  <h5 class="card-title" style="color: var(--cyber-primary);">
                    <i class="bi bi-person-badge me-2"></i>Seleccionar Jurado
                  </h5>
                  <select id="juradoSelector" class="form-select" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); color: var(--cyber-text);">
                    <option value="">Selecciona tu nombre como jurado</option>
                    <option value="nehuen_prados">Nehuen Prados</option>
                    <option value="walter_panessi">Walter Panessi</option>
                    <option value="pablo_chale">Pablo Chale</option>
                    <option value="santiago_ricci">Santiago Ricci</option>
                    <option value="gabriel_tolosa">Gabriel Tolosa</option>
                    <option value="juan_manuel_fernandez">Juan Manuel Fernandez</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Botones Principales -->
          <div class="row mb-5">
            <div class="col-md-6 mb-3">
              <button id="btnSeleccionarPropuestas" class="btn btn-lg w-100" style="background: var(--cyber-primary); border: none; color: var(--cyber-dark); font-weight: 600; padding: 1rem;">
                <i class="bi bi-list-check me-2"></i>Seleccionar Propuestas
                <small class="d-block mt-1">Evaluar y seleccionar la mejor propuesta de cada equipo</small>
              </button>
            </div>
            <div class="col-md-6 mb-3">
              <button id="btnCalificarProyectos" class="btn btn-lg w-100" style="background: var(--cyber-secondary); border: none; color: var(--cyber-dark); font-weight: 600; padding: 1rem;">
                <i class="bi bi-star-fill me-2"></i>Calificar Proyectos
                <small class="d-block mt-1">Evaluar proyectos finales seg√∫n criterios oficiales</small>
                <small class="d-block mt-1" style="color: var(--cyber-accent); font-weight: 500;">
                  <i class="bi bi-info-circle me-1"></i>Datos de prueba - Se cargar√°n datos reales una vez seleccionados los proyectos
                </small>
              </button>
            </div>
          </div>

          <!-- Bot√≥n de Transparencia -->
          <div class="row mb-4">
            <div class="col-12">
              <div class="d-flex justify-content-center">
                <a href="https://docs.google.com/spreadsheets/d/1UmhBDevk6MvgDqmj_WuQbCsk3sQz1aCiSHwC3OY8QPU/edit?usp=sharing" 
                   target="_blank" 
                   class="btn btn-outline-light" 
                   style="border: 2px solid var(--cyber-accent); color: var(--cyber-accent); font-weight: 600; padding: 0.75rem 2rem;">
                  <i class="bi bi-table me-2"></i>Ver Votaciones en Tiempo Real
                  <small class="d-block mt-1" style="color: var(--cyber-text-muted); font-weight: 400;">
                    Acceso de solo lectura al registro de votos
                  </small>
                </a>
              </div>
            </div>
          </div>


          <!-- Contenido Din√°mico -->
          <div id="contenidoDinamico">
            <div class="row">
              <div class="col-12">
                <div class="card" style="background: var(--cyber-gray); border: 1px solid var(--cyber-border);">
                  <div class="card-body text-center">
                    <i class="bi bi-arrow-up-circle" style="font-size: 3rem; color: var(--cyber-text-muted); margin-bottom: 1rem;"></i>
                    <h5 style="color: var(--cyber-text-muted);">Selecciona una opci√≥n para comenzar</h5>
                    <p class="text-muted">Elige entre seleccionar propuestas o calificar proyectos finales</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Sistema de Selecci√≥n de Propuestas (Oculto inicialmente) -->
      <section id="seccionPropuestas" class="voting-system py-5" style="background: var(--cyber-dark); color: var(--cyber-text); display: none;">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h2 class="text-center mb-5" style="color: var(--cyber-primary); font-weight: 700;">
                <i class="bi bi-list-check me-2"></i>Selecci√≥n de Propuestas
              </h2>
              <p class="text-center mb-5" style="color: var(--cyber-text-muted);">
                Cada equipo ha enviado 3 propuestas. Selecciona la que consideres m√°s innovadora y viable.
              </p>
            </div>
          </div>

          <!-- Equipos y Propuestas -->
          <div id="equiposContainer" class="row">
            <!-- Los equipos se cargar√°n din√°micamente -->
          </div>

          <!-- Resultados de Propuestas -->
        </div>
      </section>

      <!-- Sistema de Calificaci√≥n de Proyectos (Oculto inicialmente) -->
      <section id="seccionCalificacion" class="calification-system py-5" style="background: var(--cyber-dark); color: var(--cyber-text); display: none;">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h2 class="text-center mb-5" style="color: var(--cyber-primary); font-weight: 700;">
                <i class="bi bi-star-fill me-2"></i>Calificaci√≥n de Proyectos Finales
              </h2>
              <p class="text-center mb-5" style="color: var(--cyber-text-muted);">
                Eval√∫a los proyectos finales seg√∫n los criterios oficiales del hackathon
              </p>
            </div>
          </div>

          <!-- Criterios de Evaluaci√≥n -->
          <div class="row mb-5">
            <div class="col-12">
              <div class="card" style="background: var(--cyber-gray); border: 1px solid var(--cyber-border);">
                <div class="card-body">
                  <h5 class="card-title" style="color: var(--cyber-primary);">
                    <i class="bi bi-clipboard-check me-2"></i>Criterios de Evaluaci√≥n
                  </h5>
                  <div class="row">
                    <div class="col-md-6 col-lg-4 mb-3">
                      <div class="criterio-card" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); border-radius: 8px; padding: 1rem;">
                        <h6 style="color: var(--cyber-secondary);">Funcionalidad (30%)</h6>
                        <small style="color: var(--cyber-text-muted);">Funcionamiento b√°sico, flujo intuitivo, resoluci√≥n del problema</small>
                      </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-3">
                      <div class="criterio-card" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); border-radius: 8px; padding: 1rem;">
                        <h6 style="color: var(--cyber-secondary);">Innovaci√≥n (25%)</h6>
                        <small style="color: var(--cyber-text-muted);">Originalidad, relevancia, potencial de impacto</small>
                      </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-3">
                      <div class="criterio-card" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); border-radius: 8px; padding: 1rem;">
                        <h6 style="color: var(--cyber-secondary);">Calidad T√©cnica (20%)</h6>
                        <small style="color: var(--cyber-text-muted);">Arquitectura, tecnolog√≠as, rendimiento, escalabilidad</small>
                      </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-3">
                      <div class="criterio-card" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); border-radius: 8px; padding: 1rem;">
                        <h6 style="color: var(--cyber-secondary);">Presentaci√≥n (15%)</h6>
                        <small style="color: var(--cyber-text-muted);">Documentaci√≥n, explicaci√≥n, demo, interfaz</small>
                      </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-3">
                      <div class="criterio-card" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); border-radius: 8px; padding: 1rem;">
                        <h6 style="color: var(--cyber-secondary);">Viabilidad (10%)</h6>
                        <small style="color: var(--cyber-text-muted);">Factibilidad, recursos, plazo, sostenibilidad</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Proyectos para Calificar -->
          <div id="proyectosContainer" class="row">
            <!-- Los proyectos se cargar√°n din√°micamente -->
          </div>

          <!-- Resultados de Calificaci√≥n -->
          <div class="row mt-5">
            <div class="col-12">
              <div class="card" style="background: var(--cyber-gray); border: 1px solid var(--cyber-border);">
                <div class="card-body">
                  <h5 class="card-title" style="color: var(--cyber-primary);">
                    <i class="bi bi-trophy me-2"></i>Ranking de Proyectos
                  </h5>
                  <div id="rankingContainer">
                    <p class="text-muted">El ranking aparecer√° aqu√≠ una vez que comiences a calificar proyectos.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal de Confirmaci√≥n de Votos -->
    <div class="modal fade" id="modalConfirmacionVotos" tabindex="-1" aria-labelledby="modalConfirmacionVotosLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content" style="background: var(--cyber-gray); border: 2px solid var(--cyber-primary);">
          <div class="modal-header" style="border-bottom: 1px solid var(--cyber-border);">
            <h5 class="modal-title" id="modalConfirmacionVotosLabel" style="color: var(--cyber-primary);">
              <i class="bi bi-check-circle-fill me-2"></i>Confirmar Votaci√≥n
            </h5>
            <button type="button" class="btn-close" onclick="cerrarModal()" aria-label="Close" style="filter: invert(1);"></button>
          </div>
          <div class="modal-body" style="color: var(--cyber-text);">
            <div class="text-center mb-4">
              <i class="bi bi-shield-check" style="font-size: 3rem; color: var(--cyber-primary);"></i>
              <h4 class="mt-3" style="color: var(--cyber-primary);">¬°Votaci√≥n Completada!</h4>
              <p class="text-muted">Por favor, revisa tus votos antes de confirmar:</p>
            </div>
            
            <div id="resumenVotos" class="mb-4">
              <!-- Aqu√≠ se cargar√°n los votos del jurado -->
            </div>
            
            <div class="alert alert-info" style="background: rgba(0, 212, 255, 0.1); border: 1px solid var(--cyber-secondary); color: var(--cyber-text);">
              <i class="bi bi-info-circle me-2"></i>
              <strong>Importante:</strong> Una vez confirmados, los votos no podr√°n ser modificados.
            </div>
          </div>
          <div class="modal-footer" style="border-top: 1px solid var(--cyber-border);">
            <button type="button" class="btn" data-bs-dismiss="modal" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); color: var(--cyber-text);">
              <i class="bi bi-arrow-left me-2"></i>Revisar Votos
            </button>
            <button type="button" class="btn" id="btnConfirmarVotos" style="background: var(--cyber-primary); border: none; color: var(--cyber-dark); font-weight: 600;">
              <i class="bi bi-check-circle me-2"></i>Confirmar Votaci√≥n
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Integraci√≥n con Google Sheets -->
    <script src="jurados-sheets-integration.js"></script>
    
    <!-- Sistema de Votaci√≥n JS -->
    <script>
      // Datos de ejemplo - 3 equipos con 3 propuestas cada uno
      const equipos = [
        {
          id: 'equipo1',
          nombre: 'Grupo_crear()',
          integrantes: ['Matias Rodriguez (Capit√°n)', 'Tatiana Galeano', 'Santiago Franqueira'],
          pdf: 'Propuestas_Equipos/Grupo_crear/Propuestas Hackathon Virtual.pdf',
          propuestas: [
            {
              id: 'propuesta1_1',
              titulo: 'Sistema de Gesti√≥n de Turnos M√©dicos',
              descripcion: 'Plataforma web centralizada para consultar profesionales de salud, ver disponibilidad de turnos en tiempo real y gestionar citas m√©dicas de forma √°gil.',
              categoria: 'Salud'
            },
            {
              id: 'propuesta1_2',
              titulo: 'Plataforma de Alojamiento Estudiantil',
              descripcion: 'Aplicaci√≥n web que conecta estudiantes de la UNLu con propietarios de monoambientes y departamentos, facilitando la b√∫squeda de alojamiento accesible.',
              categoria: 'Educaci√≥n'
            },
            {
              id: 'propuesta1_3',
              titulo: 'Sistema de Inscripci√≥n a Talleres Comunitarios',
              descripcion: 'Plataforma web para centralizar informaci√≥n de talleres municipales y comunitarios, permitiendo inscripciones digitales y gesti√≥n de cupos en tiempo real.',
              categoria: 'Comunidad'
            }
          ]
        },
        {
          id: 'equipo2',
          nombre: 'Los migajeros',
          integrantes: ['Santiago S√°nchez (Capit√°n)', 'Carpo Fiorence', 'Jeremias Pierini'],
          pdf: 'Propuestas_Equipos/Los Migajeros/',
          propuestas: [
            {
              id: 'propuesta2_1',
              titulo: 'DESCUBRE QUE COCINAR',
              descripcion: 'Aplicaci√≥n que ayuda a los usuarios a descubrir qu√© cocinar bas√°ndose en ingredientes disponibles y preferencias.',
              categoria: 'Alimentaci√≥n',
              pdf: 'Propuestas_Equipos/Los Migajeros/DESCUBRE QUE COCINAR.pdf'
            },
            {
              id: 'propuesta2_2',
              titulo: 'Red de B√∫squeda de Mascotas',
              descripcion: 'Plataforma para conectar a due√±os de mascotas perdidas con la comunidad para facilitar su b√∫squeda.',
              categoria: 'Comunidad',
              pdf: 'Propuestas_Equipos/Los Migajeros/Red de Busqueda de Mascotas.pdf'
            },
            {
              id: 'propuesta2_3',
              titulo: 'SKILLSWAP HACKATON',
              descripcion: 'Plataforma de intercambio de habilidades donde los usuarios pueden ense√±ar y aprender nuevas competencias.',
              categoria: 'Educaci√≥n',
              pdf: 'Propuestas_Equipos/Los Migajeros/SKILLSWAP HACKATON.pdf'
            }
          ]
        },
        {
          id: 'equipo3',
          nombre: 'Sam Altman & Co',
          integrantes: ['Valentino Lavigna (Capit√°n)', 'Bruno Fanciotti', 'Paola Ponce'],
          pdf: 'Propuestas_Equipos/Sam_Altman_&_Co/Propuestas proyectos Hackathon.doc.pdf',
          propuestas: [
            {
              id: 'propuesta3_1',
              titulo: 'Alarma Vecinal',
              descripcion: 'Aplicaci√≥n m√≥vil para organizaci√≥n vecinal y comunicaci√≥n en tiempo real en situaciones de emergencia, con bot√≥n de alarma y horarios de resguardo.',
              categoria: 'Seguridad'
            },
            {
              id: 'propuesta3_2',
              titulo: 'Avisos por Animales',
              descripcion: 'Aplicaci√≥n web que centraliza informaci√≥n sobre animales en la v√≠a p√∫blica, avistamientos, campa√±as de castraci√≥n y adopci√≥n con geolocalizaci√≥n.',
              categoria: 'Comunidad'
            },
            {
              id: 'propuesta3_3',
              titulo: 'Horarios de Locales',
              descripcion: 'Herramienta digital que concentra y actualiza informaci√≥n de horarios de comercios locales con mapa interactivo y comunicaci√≥n directa.',
              categoria: 'Comercio'
            }
          ]
        }
      ];

      // Jurados
      const jurados = {
        'nehuen_prados': 'Nehuen Prados',
        'walter_panessi': 'Walter Panessi',
        'pablo_chale': 'Pablo Chale',
        'santiago_ricci': 'Santiago Ricci',
        'gabriel_tolosa': 'Gabriel Tolosa',
        'juan_manuel_fernandez': 'Juan Manuel Fernandez'
      };

      // Sistema de votaci√≥n
      let votos = {};
      let calificaciones = {};
      let juradoActual = null;
      let modoActual = null; // 'propuestas' o 'calificacion'

      // Funciones eliminadas - secci√≥n de resultados removida
      window.mostrarResultadosParciales = function() {
        console.log('üìä Funci√≥n de resultados removida - sistema simplificado');
      };

      window.actualizarResultados = function() {
        console.log('üìä Funci√≥n de actualizaci√≥n removida - sistema simplificado');
      };

      window.mostrarSeccion = function(tipo) {
        mostrarSeccion(tipo);
      };

      // Funci√≥n para mostrar resultados finales cuando todos han votado
      function mostrarResultadosFinales() {
        console.log('üìä Funci√≥n de resultados finales removida - sistema simplificado');
        return;
        
        // Calcular votos por propuesta
        const conteoVotos = {};
        Object.values(votos).forEach(votosJurado => {
          Object.values(votosJurado).forEach(propuestaId => {
            conteoVotos[propuestaId] = (conteoVotos[propuestaId] || 0) + 1;
          });
        });

        // Crear tabla de resultados finales
        let html = `
          <div class="text-center mb-4">
            <div class="mb-3">
              <i class="bi bi-trophy-fill" style="font-size: 3rem; color: var(--cyber-accent);"></i>
            </div>
            <h3 style="color: var(--cyber-primary);">¬°Votaci√≥n Finalizada!</h3>
            <p style="color: var(--cyber-text-muted);">Todos los jurados han completado su votaci√≥n. Aqu√≠ est√°n los resultados finales:</p>
          </div>
        `;

        html += '<div class="table-responsive"><table class="table table-dark table-striped">';
        html += '<thead><tr><th>Equipo</th><th>Propuesta Ganadora</th><th>Votos</th><th>Estado</th></tr></thead><tbody>';

        equipos.forEach(equipo => {
          const propuestaGanadora = equipo.propuestas.find(p => conteoVotos[p.id] === Math.max(...equipo.propuestas.map(prop => conteoVotos[prop.id] || 0)));
          const votosPropuesta = conteoVotos[propuestaGanadora.id] || 0;
          const esGanadora = votosPropuesta > 0;
          
          html += `<tr>
            <td><strong>${equipo.nombre}</strong></td>
            <td>${propuestaGanadora.titulo}</td>
            <td><span class="badge bg-primary">${votosPropuesta}</span></td>
            <td>${esGanadora ? '<span class="badge bg-success">Seleccionada</span>' : '<span class="badge bg-secondary">Sin votos</span>'}</td>
          </tr>`;
        });

        html += '</tbody></table></div>';

        // Mostrar resumen final
        const totalVotos = Object.values(conteoVotos).reduce((sum, count) => sum + count, 0);
        const juradosQueHanVotado = Object.keys(votos).length;
        const totalJurados = Object.keys(jurados).length;
        
        html += `<div class="mt-4">
          <div class="alert alert-success">
            <h5><i class="bi bi-check-circle me-2"></i>Votaci√≥n Completada</h5>
            <p class="mb-0"><strong>Resumen Final:</strong> ${totalVotos} votos registrados de ${juradosQueHanVotado} jurados. Todas las propuestas han sido seleccionadas.</p>
          </div>
          <div class="text-center">
            <button class="btn btn-lg" style="background: var(--cyber-primary); border: none; color: var(--cyber-dark); font-weight: 600;" onclick="mostrarSeccion('calificacion')">
              <i class="bi bi-star-fill me-2"></i>Continuar a Calificaci√≥n de Proyectos
            </button>
          </div>
        </div>`;

        resultadosContainer.innerHTML = html;
      }

      // Proyectos finales (ejemplo)
      const proyectosFinales = [
        {
          id: 'proyecto1',
          equipo: 'Grupo_crear()',
          titulo: 'App de Gesti√≥n de Inventario Inteligente',
          descripcion: 'Sistema completo desarrollado con IA para predecir demanda y optimizar stock autom√°ticamente.',
          tecnologias: ['React', 'Node.js', 'Python', 'TensorFlow', 'MongoDB'],
          github: 'https://github.com/tech-innovators/inventario-ia',
          demo: 'https://inventario-ia-demo.com'
        },
        {
          id: 'proyecto2',
          equipo: 'Los migajeros',
          titulo: 'App de Salud Mental y Bienestar',
          descripcion: 'Herramienta completa con ejercicios de mindfulness y seguimiento del estado emocional.',
          tecnologias: ['Vue.js', 'Express', 'PostgreSQL', 'JWT', 'Chart.js'],
          github: 'https://github.com/code-warriors/salud-mental',
          demo: 'https://salud-mental-app.com'
        },
        {
          id: 'proyecto3',
          equipo: 'Sam Altman & Co',
          titulo: 'Sistema de Predicci√≥n de Tr√°fico',
          descripcion: 'IA avanzada que analiza patrones de tr√°fico y sugiere rutas √≥ptimas en tiempo real.',
          tecnologias: ['Angular', 'Django', 'Python', 'OpenCV', 'Redis'],
          github: 'https://github.com/digital-pioneers/trafico-ia',
          demo: 'https://trafico-prediccion.com'
        }
      ];

      // Funci√≥n para cargar votos guardados localmente
      function cargarVotosGuardados() {
        try {
          const votosGuardados = JSON.parse(localStorage.getItem('hackathon_votos') || '[]');
          console.log('üìÇ Votos guardados localmente:', votosGuardados);
          
          // Reconstruir el objeto votos desde localStorage
          votosGuardados.forEach(voto => {
            const juradoKey = Object.keys(jurados).find(key => jurados[key] === voto.jurado);
            if (juradoKey) {
              if (!votos[juradoKey]) {
                votos[juradoKey] = {};
              }
              
              // Encontrar el equipo por nombre
              const equipo = equipos.find(e => e.nombre === voto.equipo);
              if (equipo) {
                votos[juradoKey][equipo.id] = voto.propuestaId;
                
                // Si el voto est√° confirmado, marcar como tal
                if (voto.confirmado) {
                  votos[juradoKey].confirmado = true;
                  votos[juradoKey].fechaConfirmacion = voto.timestamp;
                }
              }
            }
          });
          
          console.log('‚úÖ Votos reconstruidos:', votos);
        } catch (error) {
          console.error('‚ùå Error cargando votos guardados:', error);
        }
      }

      // Funci√≥n para limpiar votos de un jurado (para testing)
      function limpiarVotosJurado(juradoKey) {
        if (confirm(`¬øEst√°s seguro de que quieres limpiar los votos de ${jurados[juradoKey]}?`)) {
          delete votos[juradoKey];
          
          // Limpiar tambi√©n del localStorage
          const votosGuardados = JSON.parse(localStorage.getItem('hackathon_votos') || '[]');
          const votosFiltrados = votosGuardados.filter(voto => voto.jurado !== jurados[juradoKey]);
          localStorage.setItem('hackathon_votos', JSON.stringify(votosFiltrados));
          
          console.log(`‚úÖ Votos de ${jurados[juradoKey]} limpiados`);
          
          // Recargar la interfaz si es el jurado actual
          if (juradoActual === juradoKey && modoActual === 'propuestas') {
            cargarEquipos();
          }
        }
      }

      // Funci√≥n global para limpiar votos (disponible en consola)
      window.limpiarVotosJurado = limpiarVotosJurado;

      // Funci√≥n para limpiar TODOS los votos locales (para testing)
      function limpiarTodosLosVotos() {
        if (confirm('¬øEst√°s seguro de que quieres limpiar TODOS los votos locales? Esto permitir√° que todos los jurados voten nuevamente.')) {
          // Limpiar objeto votos
          Object.keys(votos).forEach(key => delete votos[key]);
          
          // Limpiar localStorage
          localStorage.removeItem('hackathon_votos');
          
          console.log('‚úÖ Todos los votos locales limpiados');
          
          // Recargar la interfaz si estamos en modo propuestas
          if (modoActual === 'propuestas') {
            cargarEquipos();
          }
          
          mostrarNotificacion('‚úÖ Todos los votos locales limpiados');
        }
      }

      // Funci√≥n global para limpiar todos los votos
      window.limpiarTodosLosVotos = limpiarTodosLosVotos;

      // Funci√≥n para verificar estado de votos
      function verificarEstadoVotos() {
        console.log('üìä ESTADO ACTUAL DE VOTOS:');
        console.log('  - Votos en memoria:', votos);
        console.log('  - Votos en localStorage:', JSON.parse(localStorage.getItem('hackathon_votos') || '[]'));
        
        Object.keys(jurados).forEach(juradoKey => {
          const jurado = jurados[juradoKey];
          const votosJurado = votos[juradoKey];
          
          if (votosJurado) {
            const equiposVotados = Object.keys(votosJurado).filter(key => key !== 'confirmado' && key !== 'fechaConfirmacion').length;
            const confirmado = votosJurado.confirmado || false;
            
            console.log(`  - ${jurado}: ${equiposVotados}/3 equipos votados, confirmado: ${confirmado}`);
          } else {
            console.log(`  - ${jurado}: Sin votos`);
          }
        });
      }

      // Funci√≥n global para verificar estado
      window.verificarEstadoVotos = verificarEstadoVotos;

      // Inicializar el sistema
      document.addEventListener('DOMContentLoaded', function() {
        // Cargar votos guardados al inicializar
        cargarVotosGuardados();
        
        const juradoSelector = document.getElementById('juradoSelector');
        const btnSeleccionarPropuestas = document.getElementById('btnSeleccionarPropuestas');
        const btnCalificarProyectos = document.getElementById('btnCalificarProyectos');

        // Manejar selecci√≥n de jurado
        juradoSelector.addEventListener('change', async function() {
          juradoActual = this.value;
          
          // Verificar si el jurado ya confirm√≥ sus votos
          if (juradoActual && votos[juradoActual] && votos[juradoActual].confirmado) {
            console.log(`‚ö†Ô∏è Jurado ${jurados[juradoActual]} ya confirm√≥ sus votos`);
          }
          
          if (juradoActual && modoActual) {
            // Sistema simplificado - solo escritura
            
            if (modoActual === 'propuestas') {
              cargarEquipos();
              // actualizarResultados(); // Removido - sistema simplificado
            } else if (modoActual === 'calificacion') {
              cargarProyectos();
              actualizarRanking();
            }
          }
        });

        // Manejar bot√≥n de selecci√≥n de propuestas
        btnSeleccionarPropuestas.addEventListener('click', async function() {
          if (!juradoActual) {
            alert('Por favor selecciona un jurado primero.');
            return;
          }
          modoActual = 'propuestas';
          mostrarSeccion('propuestas');
          
          // Sistema simplificado - solo escritura
          
          cargarEquipos();
          // actualizarResultados(); // Removido - sistema simplificado
          
          // Scroll hacia la secci√≥n de propuestas
          setTimeout(() => {
            document.getElementById('seccionPropuestas').scrollIntoView({ 
              behavior: 'smooth',
              block: 'start'
            });
          }, 100);
        });

        // Manejar bot√≥n de calificaci√≥n de proyectos
        btnCalificarProyectos.addEventListener('click', function() {
          if (!juradoActual) {
            alert('Por favor selecciona un jurado primero.');
            return;
          }
          modoActual = 'calificacion';
          mostrarSeccion('calificacion');
          cargarProyectos();
          actualizarRanking();
          
          // Scroll hacia la secci√≥n de calificaci√≥n
          setTimeout(() => {
            document.getElementById('seccionCalificacion').scrollIntoView({ 
              behavior: 'smooth',
              block: 'start'
            });
          }, 100);
        });


        function mostrarSeccion(tipo) {
          // Ocultar todas las secciones
          document.getElementById('seccionPropuestas').style.display = 'none';
          document.getElementById('seccionCalificacion').style.display = 'none';
          
          // Mostrar la secci√≥n seleccionada
          if (tipo === 'propuestas') {
            document.getElementById('seccionPropuestas').style.display = 'block';
          } else if (tipo === 'calificacion') {
            document.getElementById('seccionCalificacion').style.display = 'block';
          }
        }

        function cargarEquipos() {
          const equiposContainer = document.getElementById('equiposContainer');
          if (!juradoActual) {
            equiposContainer.innerHTML = '<div class="col-12"><div class="alert alert-info">Selecciona un jurado para comenzar a votar.</div></div>';
            return;
          }

          // Verificar si el jurado ya confirm√≥ sus votos
          if (votos[juradoActual] && votos[juradoActual].confirmado) {
            equiposContainer.innerHTML = `
              <div class="col-12">
                <div class="alert alert-success text-center">
                  <i class="bi bi-check-circle-fill me-2"></i>
                  <strong>Votaci√≥n Completada</strong>
                  <p class="mb-0 mt-2">Este jurado ya ha confirmado sus votos y no puede votar nuevamente.</p>
                </div>
              </div>
            `;
            return;
          }

          equiposContainer.innerHTML = '';
          
          equipos.forEach(equipo => {
            const equipoCard = document.createElement('div');
            equipoCard.className = 'col-lg-4 col-md-6 mb-4';
            equipoCard.innerHTML = `
              <div class="card h-100" style="background: var(--cyber-gray); border: 1px solid var(--cyber-border);">
                <div class="card-header" style="background: var(--cyber-light-gray); border-bottom: 1px solid var(--cyber-border);">
                  <div class="d-flex justify-content-between align-items-center">
                    <div>
                      <h5 class="card-title mb-0" style="color: var(--cyber-primary);">
                        <i class="bi bi-people me-2"></i>${equipo.nombre}
                      </h5>
                      <small style="color: var(--cyber-secondary); font-weight: 500;">${equipo.integrantes.join(', ')}</small>
                    </div>
                    ${equipo.pdf && !equipo.propuestas.some(p => p.pdf) ? `
                    <a href="${equipo.pdf}" target="_blank" class="btn btn-sm" style="background: var(--cyber-secondary); border: none; color: var(--cyber-dark); font-weight: 600;">
                      <i class="bi bi-file-earmark-pdf me-1"></i>Ver PDF
                    </a>
                    ` : ''}
                  </div>
                </div>
                <div class="card-body">
                  <h6 class="mb-3" style="color: var(--cyber-secondary);">Propuestas:</h6>
                  ${equipo.propuestas.map(propuesta => `
                    <div class="propuesta-item mb-3 p-3" style="background: var(--cyber-light-gray); border-radius: 8px; border: 1px solid var(--cyber-border);">
                      <h6 style="color: var(--cyber-text);">${propuesta.titulo}</h6>
                      <p class="small mb-2" style="color: var(--cyber-text-muted);">${propuesta.descripcion}</p>
                      <div class="d-flex justify-content-between align-items-center mb-2">
                        <span class="badge" style="background: var(--cyber-accent); color: var(--cyber-dark);">${propuesta.categoria}</span>
                      </div>
                      <div class="mt-2 d-flex gap-2 flex-wrap">
                        <button class="btn btn-sm votar-btn" 
                                data-equipo="${equipo.id}" 
                                data-propuesta="${propuesta.id}"
                                style="background: var(--cyber-primary); border: none; color: var(--cyber-dark); font-weight: 600;">
                          <i class="bi bi-check-circle me-1"></i>Votar por esta propuesta
                        </button>
                        ${propuesta.pdf ? `
                        <a href="${propuesta.pdf}" target="_blank" class="btn btn-sm" style="background: var(--cyber-secondary); border: none; color: var(--cyber-dark); font-weight: 600;">
                          <i class="bi bi-file-earmark-pdf me-1"></i>Ver PDF
                        </a>
                        ` : ''}
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            `;
            equiposContainer.appendChild(equipoCard);
          });

          // Agregar event listeners a los botones de votar
          document.querySelectorAll('.votar-btn').forEach(btn => {
            btn.addEventListener('click', function() {
              const equipoId = this.dataset.equipo;
              const propuestaId = this.dataset.propuesta;
              votar(equipoId, propuestaId);
            });
          });
        }

        async function votar(equipoId, propuestaId) {
          if (!juradoActual) {
            alert('Por favor selecciona un jurado primero.');
            return;
          }

          // Verificar si el jurado ya confirm√≥ sus votos
          if (votos[juradoActual] && votos[juradoActual].confirmado) {
            alert('Ya has confirmado tus votos. No puedes votar nuevamente.');
            return;
          }

          // Verificar si ya vot√≥ por este equipo
          if (votos[juradoActual] && votos[juradoActual][equipoId]) {
            if (confirm('Ya has votado por una propuesta de este equipo. ¬øDeseas cambiar tu voto?')) {
              votos[juradoActual][equipoId] = propuestaId;
            } else {
              return;
            }
          } else {
            if (!votos[juradoActual]) {
              votos[juradoActual] = {};
            }
            votos[juradoActual][equipoId] = propuestaId;
          }

          // Obtener datos de la propuesta
          const equipo = equipos.find(e => e.id === equipoId);
          const propuesta = equipo.propuestas.find(p => p.id === propuestaId);
          
          // SIMULACI√ìN: Registrar voto en Google Sheets
          console.log('üó≥Ô∏è SIMULANDO VOTO EN GOOGLE SHEETS:');
          console.log('üìä Datos del voto:');
          console.log('  - Jurado:', jurados[juradoActual]);
          console.log('  - Equipo:', equipo.nombre);
          console.log('  - Propuesta ID:', propuestaId);
          console.log('  - T√≠tulo:', propuesta.titulo);
          console.log('  - Categor√≠a:', propuesta.categoria);
          console.log('  - Timestamp:', new Date().toISOString());
          
          // Guardar voto localmente (sin enviar a Google Sheets a√∫n)
          try {
            const votoData = {
              jurado: jurados[juradoActual],
              equipo: equipo.nombre,
              propuestaId: propuestaId,
              titulo: propuesta.titulo,
              categoria: propuesta.categoria,
              timestamp: new Date().toISOString(),
              fecha: new Date().toLocaleString('es-ES'),
              confirmado: false // Marcar como no confirmado inicialmente
            };
            
            // Guardar localmente sin enviar a Google Sheets
            guardarVotoLocal(votoData);
            console.log('üíæ Voto guardado localmente (pendiente de confirmaci√≥n)');
            
          } catch (error) {
            console.error('‚ùå Error al procesar voto:', error);
          }
          
          // Verificar si se complet√≥ la votaci√≥n para mostrar el modal
          verificarVotacionCompleta();

          // Actualizar interfaz
          actualizarBotonesVotacion();
          // actualizarResultados(); // Removido - sistema simplificado
          
          // Mostrar confirmaci√≥n silenciosa (sin alert)
          console.log(`‚úÖ Voto registrado: "${propuesta.titulo}" del equipo ${equipo.nombre}`);
        }

        function actualizarBotonesVotacion() {
          document.querySelectorAll('.votar-btn').forEach(btn => {
            const equipoId = btn.dataset.equipo;
            const propuestaId = btn.dataset.propuesta;
            
            // Si el jurado ya confirm√≥, deshabilitar todos los botones
            if (votos[juradoActual] && votos[juradoActual].confirmado) {
              btn.innerHTML = '<i class="bi bi-lock me-1"></i>Votaci√≥n Cerrada';
              btn.style.background = 'var(--cyber-text-muted)';
              btn.disabled = true;
              return;
            }
            
            if (votos[juradoActual] && votos[juradoActual][equipoId] === propuestaId) {
              btn.innerHTML = '<i class="bi bi-check-circle-fill me-1"></i>Votado ‚úì';
              btn.style.background = 'var(--cyber-accent)';
              btn.disabled = true;
            } else {
              btn.innerHTML = '<i class="bi bi-check-circle me-1"></i>Votar por esta propuesta';
              btn.style.background = 'var(--cyber-primary)';
              btn.disabled = false;
            }
          });
        }

        function verificarVotacionCompleta() {
          if (!juradoActual) {
            return;
          }

          // Verificar si el jurado actual ha completado su votaci√≥n
          const votosJuradoActual = votos[juradoActual] || {};
          const equiposVotados = Object.keys(votosJuradoActual).filter(key => key !== 'confirmado' && key !== 'fechaConfirmacion').length;
          const totalEquipos = equipos.length;
          const haCompletadoVotacion = equiposVotados === totalEquipos;

          // Debug logs
          console.log('üîç DEBUG verificarVotacionCompleta:');
          console.log('  - Jurado actual:', juradoActual);
          console.log('  - Votos del jurado:', votosJuradoActual);
          console.log('  - Equipos votados:', equiposVotados);
          console.log('  - Total equipos:', totalEquipos);
          console.log('  - IDs de equipos configurados:', equipos.map(e => e.id));
          console.log('  - IDs de equipos votados:', Object.keys(votosJuradoActual).filter(key => key !== 'confirmado' && key !== 'fechaConfirmacion'));
          console.log('  - Ha completado votaci√≥n:', haCompletadoVotacion);
          console.log('  - Confirmado:', votosJuradoActual.confirmado);

          // Si el jurado ha completado su votaci√≥n y no ha confirmado, mostrar modal
          if (haCompletadoVotacion && !votosJuradoActual.confirmado) {
            console.log('üéØ Mostrando modal de confirmaci√≥n');
            mostrarModalConfirmacionVotos();
            return;
          }
        }


        // Funci√≥n eliminada - secci√≥n de resultados removida

        function cargarProyectos() {
          const proyectosContainer = document.getElementById('proyectosContainer');
          if (!juradoActual) {
            proyectosContainer.innerHTML = '<div class="col-12"><div class="alert alert-info">Selecciona un jurado para comenzar a calificar.</div></div>';
            return;
          }

          proyectosContainer.innerHTML = '';
          
          proyectosFinales.forEach(proyecto => {
            const proyectoCard = document.createElement('div');
            proyectoCard.className = 'col-lg-6 mb-4';
            proyectoCard.innerHTML = `
              <div class="card h-100" style="background: var(--cyber-gray); border: 1px solid var(--cyber-border);">
                <div class="card-header" style="background: var(--cyber-light-gray); border-bottom: 1px solid var(--cyber-border);">
                  <h5 class="card-title mb-0" style="color: var(--cyber-primary);">
                    <i class="bi bi-code-square me-2"></i>${proyecto.titulo}
                  </h5>
                  <small class="text-muted">Equipo: ${proyecto.equipo}</small>
                </div>
                <div class="card-body">
                  <p class="mb-3" style="color: var(--cyber-text-muted);">${proyecto.descripcion}</p>
                  
                  <div class="mb-3">
                    <h6 style="color: var(--cyber-secondary);">Tecnolog√≠as:</h6>
                    <div class="d-flex flex-wrap gap-1">
                      ${proyecto.tecnologias.map(tech => 
                        `<span class="badge" style="background: var(--cyber-accent); color: var(--cyber-dark);">${tech}</span>`
                      ).join('')}
                    </div>
                  </div>

                  <div class="mb-3">
                    <h6 style="color: var(--cyber-secondary);">Enlaces:</h6>
                    <div class="d-flex gap-2">
                      <a href="${proyecto.github}" target="_blank" class="btn btn-sm" style="background: var(--cyber-primary); border: none; color: var(--cyber-dark);">
                        <i class="bi bi-github me-1"></i>GitHub
                      </a>
                      <a href="${proyecto.demo}" target="_blank" class="btn btn-sm" style="background: var(--cyber-secondary); border: none; color: var(--cyber-dark);">
                        <i class="bi bi-play-circle me-1"></i>Demo
                      </a>
                    </div>
                  </div>

                  <hr style="border-color: var(--cyber-border);">

                  <h6 style="color: var(--cyber-secondary);">Calificaci√≥n:</h6>
                  <div class="row">
                    <div class="col-6 mb-2">
                      <label class="form-label small" style="color: var(--cyber-text);">Funcionalidad (30%)</label>
                      <select class="form-select form-select-sm calificacion-select" data-proyecto="${proyecto.id}" data-criterio="funcionalidad" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); color: var(--cyber-text);">
                        <option value="" style="color: var(--cyber-text);">Seleccionar</option>
                        <option value="1" style="color: var(--cyber-text);">1 - Muy deficiente</option>
                        <option value="2" style="color: var(--cyber-text);">2 - Deficiente</option>
                        <option value="3" style="color: var(--cyber-text);">3 - Regular</option>
                        <option value="4" style="color: var(--cyber-text);">4 - Bueno</option>
                        <option value="5" style="color: var(--cyber-text);">5 - Excelente</option>
                      </select>
                    </div>
                    <div class="col-6 mb-2">
                      <label class="form-label small" style="color: var(--cyber-text);">Innovaci√≥n (25%)</label>
                      <select class="form-select form-select-sm calificacion-select" data-proyecto="${proyecto.id}" data-criterio="innovacion" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); color: var(--cyber-text);">
                        <option value="" style="color: var(--cyber-text);">Seleccionar</option>
                        <option value="1" style="color: var(--cyber-text);">1 - Muy deficiente</option>
                        <option value="2" style="color: var(--cyber-text);">2 - Deficiente</option>
                        <option value="3" style="color: var(--cyber-text);">3 - Regular</option>
                        <option value="4" style="color: var(--cyber-text);">4 - Bueno</option>
                        <option value="5" style="color: var(--cyber-text);">5 - Excelente</option>
                      </select>
                    </div>
                    <div class="col-6 mb-2">
                      <label class="form-label small" style="color: var(--cyber-text);">Calidad T√©cnica (20%)</label>
                      <select class="form-select form-select-sm calificacion-select" data-proyecto="${proyecto.id}" data-criterio="calidad" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); color: var(--cyber-text);">
                        <option value="" style="color: var(--cyber-text);">Seleccionar</option>
                        <option value="1" style="color: var(--cyber-text);">1 - Muy deficiente</option>
                        <option value="2" style="color: var(--cyber-text);">2 - Deficiente</option>
                        <option value="3" style="color: var(--cyber-text);">3 - Regular</option>
                        <option value="4" style="color: var(--cyber-text);">4 - Bueno</option>
                        <option value="5" style="color: var(--cyber-text);">5 - Excelente</option>
                      </select>
                    </div>
                    <div class="col-6 mb-2">
                      <label class="form-label small" style="color: var(--cyber-text);">Presentaci√≥n (15%)</label>
                      <select class="form-select form-select-sm calificacion-select" data-proyecto="${proyecto.id}" data-criterio="presentacion" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); color: var(--cyber-text);">
                        <option value="" style="color: var(--cyber-text);">Seleccionar</option>
                        <option value="1" style="color: var(--cyber-text);">1 - Muy deficiente</option>
                        <option value="2" style="color: var(--cyber-text);">2 - Deficiente</option>
                        <option value="3" style="color: var(--cyber-text);">3 - Regular</option>
                        <option value="4" style="color: var(--cyber-text);">4 - Bueno</option>
                        <option value="5" style="color: var(--cyber-text);">5 - Excelente</option>
                      </select>
                    </div>
                    <div class="col-6 mb-2">
                      <label class="form-label small" style="color: var(--cyber-text);">Viabilidad (10%)</label>
                      <select class="form-select form-select-sm calificacion-select" data-proyecto="${proyecto.id}" data-criterio="viabilidad" style="background: var(--cyber-light-gray); border: 1px solid var(--cyber-border); color: var(--cyber-text);">
                        <option value="" style="color: var(--cyber-text);">Seleccionar</option>
                        <option value="1" style="color: var(--cyber-text);">1 - Muy deficiente</option>
                        <option value="2" style="color: var(--cyber-text);">2 - Deficiente</option>
                        <option value="3" style="color: var(--cyber-text);">3 - Regular</option>
                        <option value="4" style="color: var(--cyber-text);">4 - Bueno</option>
                        <option value="5" style="color: var(--cyber-text);">5 - Excelente</option>
                      </select>
                    </div>
                  </div>

                  <div class="mt-3">
                    <div class="d-flex justify-content-between align-items-center">
                      <span style="color: var(--cyber-text-muted);">Puntuaci√≥n Total:</span>
                      <span id="puntuacion-${proyecto.id}" class="badge" style="background: var(--cyber-primary); color: var(--cyber-dark); font-size: 1rem;">
                        0.0
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            `;
            proyectosContainer.appendChild(proyectoCard);
          });

          // Agregar event listeners a los selects de calificaci√≥n
          document.querySelectorAll('.calificacion-select').forEach(select => {
            select.addEventListener('change', function() {
              const proyectoId = this.dataset.proyecto;
              const criterio = this.dataset.criterio;
              const puntuacion = parseInt(this.value);
              
              if (!calificaciones[juradoActual]) {
                calificaciones[juradoActual] = {};
              }
              if (!calificaciones[juradoActual][proyectoId]) {
                calificaciones[juradoActual][proyectoId] = {};
              }
              
              calificaciones[juradoActual][proyectoId][criterio] = puntuacion;
              actualizarPuntuacionProyecto(proyectoId);
              actualizarRanking();
            });
          });
        }

        function actualizarPuntuacionProyecto(proyectoId) {
          const calificacion = calificaciones[juradoActual] && calificaciones[juradoActual][proyectoId] ? calificaciones[juradoActual][proyectoId] : {};
          
          // Pesos de los criterios
          const pesos = {
            funcionalidad: 0.30,
            innovacion: 0.25,
            calidad: 0.20,
            presentacion: 0.15,
            viabilidad: 0.10
          };
          
          let puntuacionTotal = 0;
          let criteriosCompletos = 0;
          
          Object.keys(pesos).forEach(criterio => {
            if (calificacion[criterio]) {
              puntuacionTotal += calificacion[criterio] * pesos[criterio];
              criteriosCompletos++;
            }
          });
          
          const puntuacionElement = document.getElementById(`puntuacion-${proyectoId}`);
          if (criteriosCompletos === 5) {
            // Mostrar la puntuaci√≥n individual del jurado actual (escala 1-5)
            puntuacionElement.textContent = puntuacionTotal.toFixed(1);
            puntuacionElement.style.background = 'var(--cyber-accent)';
          } else {
            puntuacionElement.textContent = 'Incompleto';
            puntuacionElement.style.background = 'var(--cyber-text-muted)';
          }
        }

        function actualizarRanking() {
          const rankingContainer = document.getElementById('rankingContainer');
          
          if (!juradoActual) {
            rankingContainer.innerHTML = '<p class="text-muted">El ranking aparecer√° aqu√≠ una vez que comiences a calificar proyectos.</p>';
            return;
          }

          // Calcular puntuaciones promedio de todos los jurados
          const puntuacionesProyectos = {};
          
          proyectosFinales.forEach(proyecto => {
            puntuacionesProyectos[proyecto.id] = {
              proyecto: proyecto,
              puntuaciones: [], // Array para almacenar puntuaciones individuales
              jurados: 0,
              detalleJurados: [] // Para mostrar qu√© jurado calific√≥ qu√©
            };
          });

          // Recopilar puntuaciones de todos los jurados
          Object.keys(calificaciones).forEach(juradoId => {
            Object.keys(calificaciones[juradoId]).forEach(proyectoId => {
              const calificacion = calificaciones[juradoId][proyectoId];
              
              if (calificacion.funcionalidad && calificacion.innovacion && 
                  calificacion.calidad && calificacion.presentacion && calificacion.viabilidad) {
                
                const pesos = {
                  funcionalidad: 0.30,
                  innovacion: 0.25,
                  calidad: 0.20,
                  presentacion: 0.15,
                  viabilidad: 0.10
                };
                
                let puntuacion = 0;
                Object.keys(pesos).forEach(criterio => {
                  puntuacion += calificacion[criterio] * pesos[criterio];
                });
                
                puntuacionesProyectos[proyectoId].puntuaciones.push(puntuacion);
                puntuacionesProyectos[proyectoId].jurados++;
                puntuacionesProyectos[proyectoId].detalleJurados.push({
                  jurado: jurados[juradoId],
                  puntuacion: puntuacion.toFixed(1)
                });
              }
            });
          });

          // Calcular promedios y ordenar
          const ranking = Object.values(puntuacionesProyectos)
            .map(item => ({
              ...item,
              promedio: item.puntuaciones.length > 0 ? 
                item.puntuaciones.reduce((sum, p) => sum + p, 0) / item.puntuaciones.length : 0
            }))
            .sort((a, b) => b.promedio - a.promedio);

          if (ranking.every(item => item.promedio === 0)) {
            rankingContainer.innerHTML = '<p class="text-muted">A√∫n no hay calificaciones completas registradas.</p>';
            return;
          }

          // Crear tabla de ranking
          let html = '<div class="table-responsive"><table class="table table-dark table-striped">';
          html += '<thead><tr><th>Posici√≥n</th><th>Equipo</th><th>Proyecto</th><th>Puntuaci√≥n Promedio</th><th>Jurados</th><th>Detalle</th><th>Estado</th></tr></thead><tbody>';

          ranking.forEach((item, index) => {
            const posicion = index + 1;
            const medalla = posicion === 1 ? 'ü•á' : posicion === 2 ? 'ü•à' : posicion === 3 ? 'ü•â' : '';
            
            // Crear detalle de jurados
            const detalleJurados = item.detalleJurados.map(d => 
              `${d.jurado.split(' - ')[0]}: ${d.puntuacion}`
            ).join('<br>');
            
            html += `<tr>
              <td><strong>${medalla} ${posicion}¬∞</strong></td>
              <td>${item.proyecto.equipo}</td>
              <td>${item.proyecto.titulo}</td>
              <td><span class="badge bg-primary">${item.promedio.toFixed(1)}</span></td>
              <td><span class="badge bg-secondary">${item.jurados}</span></td>
              <td><small>${detalleJurados}</small></td>
              <td>${item.promedio > 0 ? '<span class="badge bg-success">Calificado</span>' : '<span class="badge bg-warning">Pendiente</span>'}</td>
            </tr>`;
          });

          html += '</tbody></table></div>';

          // Mostrar resumen
          const totalJurados = Object.keys(calificaciones).length;
          const proyectosCalificados = ranking.filter(item => item.promedio > 0).length;
          
          html += `<div class="mt-3">
            <div class="alert alert-info">
              <strong>Resumen:</strong> ${proyectosCalificados} de ${proyectosFinales.length} proyectos calificados por ${totalJurados} jurados.
              <br><small>La puntuaci√≥n promedio se calcula sumando las calificaciones individuales de todos los jurados y dividiendo por el n√∫mero de jurados que calificaron.</small>
            </div>
          </div>`;

          rankingContainer.innerHTML = html;
        }
      });

      // Funci√≥n para enviar voto a Google Sheets
      async function enviarVotoAGoogleSheets(votoData) {
        try {
          // URL de Google Apps Script configurada
          const baseUrl = 'https://script.google.com/macros/s/AKfycbwOPz-5P0OY1v_ytk1xlz5IxT6n3V6zuHPLRrTJGMpAITqE85Jlv3jwao1idUtWpMTmGw/exec';
          
          // Si no se ha configurado la URL, usar modo local
          if (baseUrl === 'TU_GOOGLE_APPS_SCRIPT_URL_AQUI') {
            console.warn('‚ö†Ô∏è URL de Google Apps Script no configurada, guardando localmente');
            guardarVotoLocal(votoData);
            mostrarNotificacion('‚ö†Ô∏è URL no configurada - Voto guardado localmente');
            return;
          }
          
          const params = new URLSearchParams({
            jurado: votoData.jurado,
            equipo: votoData.equipo,
            propuestaId: votoData.propuestaId,
            titulo: votoData.titulo,
            categoria: votoData.categoria,
            timestamp: votoData.timestamp,
            confirmado: votoData.confirmado || 'false'
          });
          
          const url = `${baseUrl}?${params.toString()}`;
          
          console.log('üì§ Enviando voto a Google Sheets...');
          console.log('URL:', url);
          console.log('Datos:', votoData);
          
          // Usar fetch en lugar de iframe para mejor control
          const response = await fetch(url, {
            method: 'GET',
            mode: 'no-cors' // Necesario para Google Apps Script
          });
          
          console.log('‚úÖ Voto enviado exitosamente');
          
          // Guardar tambi√©n localmente como respaldo
          guardarVotoLocal(votoData);
          
          // Mostrar confirmaci√≥n solo si es un voto confirmado
          if (votoData.confirmado) {
            mostrarNotificacion(`‚úÖ Voto enviado a Google Sheets!`);
          }
          
        } catch (error) {
          console.error('‚ùå Error al enviar voto:', error);
          
          // Fallback: usar iframe si fetch falla
          console.log('üîÑ Intentando con iframe como fallback...');
          try {
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.src = url;
            document.body.appendChild(iframe);
            
            setTimeout(() => {
              if (iframe.parentElement) {
                iframe.remove();
              }
            }, 3000);
            
            guardarVotoLocal(votoData);
            console.log('‚úÖ Voto enviado via iframe fallback');
            
          } catch (iframeError) {
            console.error('‚ùå Error tambi√©n con iframe:', iframeError);
            guardarVotoLocal(votoData);
            mostrarNotificacion('‚ùå Error al enviar voto, guardado localmente');
          }
        }
      }

      // Funci√≥n para guardar voto localmente
      function guardarVotoLocal(votoData) {
        try {
          let votos = JSON.parse(localStorage.getItem('hackathon_votos') || '[]');
          votos.push(votoData);
          localStorage.setItem('hackathon_votos', JSON.stringify(votos));
          console.log('üíæ Voto guardado localmente');
        } catch (error) {
          console.error('‚ùå Error al guardar voto localmente:', error);
        }
      }

      // Funci√≥n para obtener votos reales desde Google Sheets
      // Funci√≥n eliminada - sistema simplificado solo para escritura

      // Funci√≥n para sincronizar votos reales con la interfaz
      // Funci√≥n simplificada - solo para logging
      function logEstadoVotos() {
        console.log('üìä Estado actual de votos:', votos);
      }

      // Funci√≥n para mostrar notificaciones
      function mostrarNotificacion(mensaje) {
        // Crear elemento de notificaci√≥n
        const notificacion = document.createElement('div');
        notificacion.className = 'alert alert-success position-fixed';
        notificacion.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
        notificacion.innerHTML = `
          <i class="bi bi-check-circle me-2"></i>
          ${mensaje}
          <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
        `;
        
        document.body.appendChild(notificacion);
        
        // Remover despu√©s de 3 segundos
        setTimeout(() => {
          if (notificacion.parentElement) {
            notificacion.remove();
          }
        }, 3000);
      }

      // Funci√≥n para mostrar modal de confirmaci√≥n de votos
      function mostrarModalConfirmacionVotos() {
        if (!juradoActual || !votos[juradoActual]) {
          console.warn('No hay votos para mostrar en el modal');
          return;
        }

        const votosJurado = votos[juradoActual];
        const resumenContainer = document.getElementById('resumenVotos');
        
        // Limpiar contenido anterior
        resumenContainer.innerHTML = '';
        
        // Crear resumen de votos
        let html = '<h6 class="mb-3" style="color: var(--cyber-secondary);">Resumen de tus votos:</h6>';
        
        Object.keys(votosJurado).forEach(equipoId => {
          const propuestaId = votosJurado[equipoId];
          const equipo = equipos.find(e => e.id === equipoId);
          const propuesta = equipo.propuestas.find(p => p.id === propuestaId);
          
          html += `
            <div class="voto-resumen-card">
              <h6><i class="bi bi-people me-2"></i>${equipo.nombre}</h6>
              <div class="equipo-nombre">${equipo.integrantes.join(', ')}</div>
              <div class="propuesta-titulo">${propuesta.titulo}</div>
              <div class="propuesta-descripcion">${propuesta.descripcion}</div>
              <div class="d-flex justify-content-between align-items-center">
                <span class="categoria-badge">${propuesta.categoria}</span>
                <i class="bi bi-check-circle-fill" style="color: var(--cyber-primary);"></i>
              </div>
            </div>
          `;
        });
        
        resumenContainer.innerHTML = html;
        
        // Mostrar el modal
        const modalElement = document.getElementById('modalConfirmacionVotos');
        if (modalElement) {
          // Mostrar modal directamente sin Bootstrap
          modalElement.style.display = 'block';
          modalElement.classList.add('show');
          document.body.classList.add('modal-open');
          
          // Agregar overlay
          const overlay = document.createElement('div');
          overlay.className = 'modal-backdrop fade show';
          overlay.id = 'modal-backdrop';
          document.body.appendChild(overlay);
          
          console.log('‚úÖ Modal mostrado correctamente');
        } else {
          console.error('‚ùå No se encontr√≥ el elemento del modal');
        }
      }

      // Funci√≥n para cerrar el modal
      function cerrarModal() {
        const modalElement = document.getElementById('modalConfirmacionVotos');
        const overlay = document.getElementById('modal-backdrop');
        
        if (modalElement) {
          modalElement.style.display = 'none';
          modalElement.classList.remove('show');
          document.body.classList.remove('modal-open');
        }
        
        if (overlay) {
          overlay.remove();
        }
      }

      // Funci√≥n para confirmar votos (llamada desde el bot√≥n del modal)
      function confirmarVotos() {
        if (!juradoActual || !votos[juradoActual]) {
          console.warn('No hay votos para confirmar');
          return;
        }

        // Marcar votos como confirmados
        if (!votos[juradoActual].confirmado) {
          votos[juradoActual].confirmado = true;
          votos[juradoActual].fechaConfirmacion = new Date().toISOString();
          
          // Cerrar el modal
          cerrarModal();
          
          // Enviar votos confirmados a Google Sheets
          enviarVotosConfirmados();
          
          // Mostrar notificaci√≥n de √©xito (ya se muestra en enviarVotoAGoogleSheets)
          console.log('‚úÖ Votos confirmados y enviados correctamente');
        }
        
        // Actualizar interfaz - removido en sistema simplificado
        console.log('‚úÖ Votos confirmados correctamente');
      }

      // Funci√≥n para enviar votos confirmados a Google Sheets
      async function enviarVotosConfirmados() {
        if (!juradoActual || !votos[juradoActual]) return;

        const votosJurado = votos[juradoActual];
        
        console.log('üì§ DEBUG enviarVotosConfirmados:');
        console.log('  - Jurado actual:', juradoActual);
        console.log('  - Votos del jurado:', votosJurado);
        console.log('  - Total equipos configurados:', equipos.length);
        console.log('  - Equipos:', equipos.map(e => e.id));
        
        let votosEnviados = 0;
        const votosParaEnviar = [];
        
        // Preparar todos los votos
        Object.keys(votosJurado).forEach(equipoId => {
          if (equipoId === 'confirmado' || equipoId === 'fechaConfirmacion') return;
          
          const propuestaId = votosJurado[equipoId];
          const equipo = equipos.find(e => e.id === equipoId);
          const propuesta = equipo.propuestas.find(p => p.id === propuestaId);
          
          console.log(`  - Procesando voto para equipo ${equipoId}:`, {
            equipo: equipo?.nombre,
            propuestaId: propuestaId,
            titulo: propuesta?.titulo
          });
          
          const votoData = {
            jurado: jurados[juradoActual],
            equipo: equipo.nombre,
            propuestaId: propuestaId,
            titulo: propuesta.titulo,
            categoria: propuesta.categoria,
            timestamp: new Date().toISOString(),
            fecha: new Date().toLocaleString('es-ES'),
            confirmado: true
          };
          
          votosParaEnviar.push(votoData);
        });
        
        // Enviar votos uno por uno con delay para evitar problemas de concurrencia
        for (let i = 0; i < votosParaEnviar.length; i++) {
          const votoData = votosParaEnviar[i];
          console.log(`üì§ Enviando voto ${i + 1}/${votosParaEnviar.length}: ${votoData.titulo}`);
          
          try {
            await enviarVotoAGoogleSheets(votoData);
            votosEnviados++;
            
            // Delay de 1 segundo entre env√≠os para evitar problemas de concurrencia
            if (i < votosParaEnviar.length - 1) {
              await new Promise(resolve => setTimeout(resolve, 1000));
            }
          } catch (error) {
            console.error(`‚ùå Error enviando voto ${i + 1}:`, error);
          }
        }
        
        console.log(`‚úÖ Total votos enviados: ${votosEnviados} de ${votosParaEnviar.length} votos`);
        
        if (votosEnviados === votosParaEnviar.length) {
          mostrarNotificacion(`‚úÖ Todos los votos enviados correctamente (${votosEnviados}/${votosParaEnviar.length})`);
        } else {
          mostrarNotificacion(`‚ö†Ô∏è Se enviaron ${votosEnviados} de ${votosParaEnviar.length} votos. Revisa la consola para m√°s detalles.`);
        }
      }

      // Funci√≥n de exportar eliminada - sistema simplificado

      // Bot√≥n de exportar eliminado - sistema simplificado
      document.addEventListener('DOMContentLoaded', function() {

        // Agregar event listener al bot√≥n de confirmar votos
        const btnConfirmarVotos = document.getElementById('btnConfirmarVotos');
        if (btnConfirmarVotos) {
          btnConfirmarVotos.addEventListener('click', confirmarVotos);
        }

        // Sincronizar votos autom√°ticamente cada 30 segundos
        // Sistema simplificado - sin sincronizaci√≥n autom√°tica

        // Funci√≥n de debug para verificar datos
        window.debugVotos = function() {
          console.log('üîç DEBUG - Estado actual:');
          console.log('Jurado actual:', juradoActual);
          console.log('Votos locales:', votos);
          console.log('Votos en localStorage:', JSON.parse(localStorage.getItem('hackathon_votos') || '[]'));
          
          // Probar obtener votos del Google Sheet
          obtenerVotosReales().then(data => {
            console.log('üìä Votos del Google Sheet:', data);
          });
        };

        // Funci√≥n para probar el modal manualmente
        window.probarModal = function() {
          if (!juradoActual) {
            alert('Selecciona un jurado primero');
            return;
          }
          
          // Simular votos completos
          votos[juradoActual] = {
            'equipo1': 'propuesta1_1',
            'equipo2': 'propuesta2_2', 
            'equipo3': 'propuesta3_3',
            'confirmado': false
          };
          
          console.log('üß™ Simulando votos completos:', votos[juradoActual]);
          verificarVotacionCompleta();
        };
      });
    </script>
    
    <!-- Custom JS -->
    <script src="assets/js/main.js"></script>
  </body>
</html>
